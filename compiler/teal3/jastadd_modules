// Teal-3 parsing and program representation
module("teal-3") {
    moduleName "teal-3"

    imports "teal-0"

    jastadd {
	include "grammar/teal.ast"
	excludeFrom "teal-0", "grammar/type.ast"

	// Semantic Analysis
	include "ast/BuiltinTypes.jrag"
	//excludeFrom "teal-0", "ast/BuiltinTypes.jrag"
	excludeFrom "teal-0", "ast/TypeAnalysisBuiltinTypes.jrag"

	include "ast/NameAnalysis.jrag"
	include "ast/SemanticCheck.jrag"
	include "ast/TypeAnalysis.jrag"

	// Code generation
	include "backend/IRGenExpr.jrag"
	excludeFrom "teal-0", "backend/IRGenExpr.jrag"
	include "backend/IRGen.jrag"
	excludeFrom "teal-0", "backend/IRGen.jrag"
	include "backend/IRGenType.jrag"
	excludeFrom "teal-0", "backend/IRGenType.jrag"
    }

    scanner {
	include "scanner/scanner.flex"
    }

    parser {
	include "parser/term.parser"
	excludeFrom "teal-0", "parser/term.parser"

	include "parser/stmt-base.parser"
	include "parser/stmt.parser"
	excludeFrom "teal-0", "parser/stmt.parser"

	include "parser/decl.parser"
	include "parser/decl-base.parser"
	excludeFrom "teal-0", "parser/decl.parser"

	excludeFrom "teal-0", "parser/type.parser"
    }
}
